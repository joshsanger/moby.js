function openmoby(e,o,n,t){$("#moby.moby-hidden").length>0&&$("#moby").removeClass("moby-hidden"),$("#moby").addClass("moby-active"),$("body").addClass("moby-body-fixed"),1==o&&$("#moby-overlay").addClass("moby-overlay-active"),$("#moby-clone").length<1&&($("#"+e).clone().appendTo("#moby"),$("#moby #"+e).attr("id","moby-clone").removeAttr("class"),$("#moby li").find("ul").parent().find("> a").append("<span class='moby-expand'>"+n+"</span>"),$(".moby-expand").attr({"data-open":n,"data-close":t}),$("#moby-after").length>0&&$("#moby-after").appendTo("#moby"))}function closemoby(e){$("#moby").hasClass("moby-active")&&(1==e&&$("#moby-overlay").removeClass("moby-overlay-active"),$("#moby").removeClass("moby-active"),$("body").removeClass("moby-body-fixed"))}function breakpointResize(e,o){var n=window.outerWidth;n>e&&$("#moby").hasClass("moby-active")&&closemoby(o)}function mobyExpandSubMenu(e,o){var n=e.data("open"),t=e.data("close");e.hasClass("moby-submenu-open")?(e.html(n),e.removeClass("moby-submenu-open"),o===!0?e.parent("a").parent("li").find("> ul").removeClass("moby-ul-active"):e.parent("a").parent("li").find("> ul").slideUp(200)):(e.html(t),e.addClass("moby-submenu-open"),o===!0?e.parent("a").parent("li").find("> ul").addClass("moby-ul-active"):e.parent("a").parent("li").find("> ul").slideDown(200)),$("body").find("#moby").find("ul.moby-ul-active").length>0?$("body").find("#moby").addClass("moby-prev-visible"):$("body").find("#moby").removeClass("moby-prev-visible")}function mobyPreventDummyLinks(e){"#"==$(this).attr("href")&&(e.preventDefault(),$(this).find("> .moby-expand").length>0&&$(this).find(" > .moby-expand").trigger("click"))}var mobyUsersSettings={};$(document).ready(function(){$.fn.extend({mobyClose:function(){closemoby(mobyUsersSettings.overlay)},mobyOpen:function(){openmoby(mobyUsersSettings.userMenu,mobyUsersSettings.overlay,mobyUsersSettings.subMenuOpenIcon,mobyUsersSettings.subMenuCloseIcon,mobyUsersSettings.insertAfter)},moby:function(e){var o=$(this).attr("id");"undefined"==typeof e.mobyTrigger&&(e.mobyTrigger=$("#moby-button")),"undefined"==typeof e.overlay&&(e.overlay=!0),"undefined"==typeof e.menuClass&&(e.menuClass="right-side"),"undefined"==typeof e.subMenuOpenIcon&&(e.subMenuOpenIcon="<span>&#x25BC;</span>"),"undefined"==typeof e.subMenuCloseIcon&&(e.subMenuCloseIcon="<span>&#x25B2;</span>"),"undefined"==typeof e.closeButton&&(e.closeButton=!0),"undefined"==typeof e.closeButtonContent&&(e.closeButtonContent="<span>X</span> Close Menu"),"undefined"==typeof e.breakpoint&&(e.breakpoint=1024),"undefined"==typeof e.enableEscape&&(e.enableEscape=!0),"undefined"==typeof e.insertAfter&&(e.insertAfter=""),"undefined"==typeof e.insertBefore&&(e.insertBefore=""),"undefined"==typeof e.overlayClass&&(e.overlayClass="dark"),"undefined"==typeof e.multiLevel&&(e.multiLevel=!1),"undefined"==typeof e.previousContent&&(e.previousContent="<span>&larr; Previous</span>"),1==e.overlay&&($("body").prepend('<div id="moby-overlay" class="'+e.overlayClass+'"></div>'),$("#moby-overlay").on("click",function(){closemoby(e.overlay)})),$("body").prepend('<div id="moby"></div>');var n=$("body").find("#moby");e.multiLevel!==!0&&(""!==e.insertBefore&&n.prepend('<div id="moby-before">'+e.insertBefore+"</div>"),""!==e.insertAfter&&n.append('<div id="moby-after">'+e.insertAfter+"</div>")),e.multiLevel===!0&&(n.addClass("moby-has-multi-level"),n.prepend('<div id="moby-top-wrap"><div id="moby-prev"><span>'+e.previousContent+"</span></div></div>"),n.on("click","#moby-prev",function(){n.find(".moby-submenu-open").last().trigger("click")})),e.closeButton===!0&&(e.multiLevel===!0?n.find("#moby-top-wrap").prepend('<div id="moby-close">'+e.closeButtonContent+"</div>"):n.prepend('<div id="moby-close">'+e.closeButtonContent+"</div>"),n.find("#moby-close").on("click",function(){closemoby(e.overlay)})),e.enableEscape===!0&&$(document).on("keydown",function(o){27==o.keyCode&&closemoby(e.overlay)}),n.addClass(e.menuClass+" moby-hidden"),e.mobyTrigger.on("click",function(){openmoby(o,e.overlay,e.subMenuOpenIcon,e.subMenuCloseIcon,e.insertAfter)}),$(window).on("resize",function(){breakpointResize(e.breakpoint,e.overlay)}),n.on("click",".moby-expand",function(o){o.preventDefault(),o.stopPropagation(),mobyExpandSubMenu($(this),e.multiLevel)}),n.on("click","a",mobyPreventDummyLinks),mobyUsersSettings=e,mobyUsersSettings.userMenu=o}})});