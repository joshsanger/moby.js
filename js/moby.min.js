jQuery(document).ready(function(e){function o(o,n,t,a,s){e("#moby.moby-hidden").length>0&&e("#moby").removeClass("moby-hidden"),e("#moby").addClass("moby-active"),e("body").addClass("moby-body-fixed"),1==n&&e("#moby-overlay").addClass("moby-overlay-active"),e("#moby-clone").length<1&&(e("#"+o).clone().appendTo("#moby"),e("#moby #"+o).attr("id","moby-clone").removeAttr("class"),e("#moby #moby-clone li").find("ul").parent().find("> a").append("<span class='moby-expand'>"+t+"</span>"),e(".moby-expand").attr({"data-open":t,"data-close":a}),""!==s&&e("#moby-after").length<1&&e("#moby").append('<div id="moby-after">'+s+"</div>"))}function n(o){e("#moby").hasClass("moby-active")&&(1==o&&e("#moby-overlay").removeClass("moby-overlay-active"),e("#moby").removeClass("moby-active"),e("body").removeClass("moby-body-fixed"))}function t(o,t){var a=window.outerWidth;a>o&&e("#moby").hasClass("moby-active")&&n(t)}function a(o){o.preventDefault();var n=e(this).data("open"),t=e(this).data("close");e(this).hasClass("moby-submenu-open")?(e(this).html(n),e(this).removeClass("moby-submenu-open"),e(this).parent("a").parent("li").find("> ul").slideUp(200)):(e(this).html(t),e(this).addClass("moby-submenu-open"),e(this).parent("a").parent("li").find("> ul").slideDown(200))}e.fn.extend({moby:function(s){var d=e(this).attr("id");"undefined"==typeof s.mobyTrigger&&(s.mobyTrigger=e("#moby-button")),"undefined"==typeof s.overlay&&(s.overlay=!0),"undefined"==typeof s.menuClass&&(s.menuClass="right-side"),"undefined"==typeof s.subMenuOpenIcon&&(s.subMenuOpenIcon="<span>&#x25BC;</span>"),"undefined"==typeof s.subMenuCloseIcon&&(s.subMenuCloseIcon="<span>&#x25B2;</span>"),"undefined"==typeof s.closeButton&&(s.closeButton=!0),"undefined"==typeof s.closeButtonContent&&(s.closeButtonContent="<span>X</span> Close Menu"),"undefined"==typeof s.breakpoint&&(s.breakpoint=960),"undefined"==typeof s.enableEscape&&(s.enableEscape=!0),"undefined"==typeof s.insertAfter&&(s.insertAfter=""),"undefined"==typeof s.insertBefore&&(s.insertBefore=""),"undefined"==typeof s.overlayClass&&(s.overlayClass="dark"),1==s.overlay&&(e("body").prepend('<div id="moby-overlay" class="'+s.overlayClass+'"></div>'),e("#moby-overlay").on("click",function(){n(s.overlay)})),e("body").prepend('<div id="moby"></div>'),""!==s.insertBefore&&e("#moby").prepend('<div id="moby-before">'+s.insertBefore+"</div>"),1==s.closeButton&&(e("#moby").prepend('<div id="moby-close">'+s.closeButtonContent+"</div>"),e("#moby").find("#moby-close").on("click",function(){n(s.overlay)})),1==s.enableEscape&&e(document).on("keydown",function(e){27==e.keyCode&&n(s.overlay)}),e("#moby").addClass(s.menuClass+" moby-hidden"),s.mobyTrigger.on("click",function(){o(d,s.overlay,s.subMenuOpenIcon,s.subMenuCloseIcon,s.insertAfter)}),e(window).on("resize",function(){t(s.breakpoint,s.overlay)}),e("#moby").on("click",".moby-expand",a)}})});
